<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${pageTitle}">Chi ti·∫øt b√†i vi·∫øt</title>

  <link rel="stylesheet" th:href="@{/css/header.css}">
  <link rel="stylesheet" th:href="@{/css/footer.css}">
  <link rel="stylesheet" th:href="@{/css/blog.css}">
</head>
<body>

<div th:replace="fragments/_header :: header"></div>

<section class="blog-header">
  <h2 th:text="${blog.title}">Ti√™u ƒë·ªÅ b√†i vi·∫øt</h2>
  <p>Home - Blog Details</p>
</section>

<main class="blog-detail">
  <div class="container">

    <!-- ==================== B√ÄI VI·∫æT CH√çNH ==================== -->
    <article class="content">
      <img th:src="@{${blog.imageUrl}}" th:alt="${blog.title}" class="main-img">

      <div class="meta">
        <span><i class="fa-solid fa-user"></i> <span th:text="${blog.author}"></span></span>
        <span><i class="fa-solid fa-calendar"></i> 
              <span th:text="${#temporals.format(blog.createdAt, 'dd/MM/yyyy')}"></span></span>
        <span th:if="${blog.category != null}">
          <i class="fa-solid fa-tag"></i> <span th:text="${blog.category}"></span>
        </span>
      </div>

      <!-- N·ªôi dung ch√≠nh -->
      <div class="text">
        <p>
          Ch·ªçn kem n·ªÅn kh√¥ng ch·ªâ d·ª±a v√†o m√†u s·∫Øc m√† c√≤n ph·∫£i ph√π h·ª£p v·ªõi lo·∫°i da c·ªßa b·∫°n.
          Da kh√¥ c·∫ßn n·ªÅn ·∫©m m·ªãn, c√≤n da d·∫ßu th√¨ n√™n ch·ªçn n·ªÅn ki·ªÅm d·∫ßu t·ªët h∆°n.
        </p>

        <h4>1Ô∏è‚É£ Hi·ªÉu lo·∫°i da c·ªßa b·∫°n</h4>
        <p>
          Tr∆∞·ªõc khi ch·ªçn kem n·ªÅn, h√£y x√°c ƒë·ªãnh xem da b·∫°n l√† lo·∫°i n√†o ‚Äî da kh√¥, da d·∫ßu, da h·ªón h·ª£p hay da nh·∫°y c·∫£m.
          M·ªói lo·∫°i da c·∫ßn c√¥ng th·ª©c kem n·ªÅn kh√°c nhau.
        </p>

        <img src="/images/blog/blog-detail-1.jpeg" alt="Lo·∫°i da" class="sub-img">

        <blockquote>
          ‚ÄúKem n·ªÅn ph√π h·ª£p s·∫Ω gi√∫p b·∫°n t·ª± tin c·∫£ ng√†y ‚Äî kh√¥ng lo m·ªëc, kh√¥ng b√≥ng d·∫ßu.‚Äù
        </blockquote>

        <h4>2Ô∏è‚É£ Ch·ªçn t√¥ng m√†u ƒë√∫ng</h4>
        <p>
          H√£y th·ª≠ kem n·ªÅn ·ªü ph·∫ßn x∆∞∆°ng quai h√†m, kh√¥ng ph·∫£i c·ªï tay.
          N·∫øu t·ªáp ho√†n to√†n v√†o da sau 2‚Äì3 ph√∫t, ƒë√≥ l√† t√¥ng m√†u ph√π h·ª£p nh·∫•t.
        </p>

        <h4>3Ô∏è‚É£ K·∫øt lu·∫≠n</h4>
        <p>
          M·ªôt l·ªõp n·ªÅn ƒë·∫πp l√† n·ªÅn t·∫£ng c·ªßa m·ªçi phong c√°ch make-up. 
          H√£y ƒë·∫ßu t∆∞ m·ªôt ch√∫t th·ªùi gian ƒë·ªÉ ch·ªçn s·∫£n ph·∫©m ph√π h·ª£p ‚Äî b·∫°n s·∫Ω th·∫•y s·ª± kh√°c bi·ªát r√µ r·ªát üå∏
        </p>
      </div>

            <!-- üîπ Ph·∫ßn b√¨nh lu·∫≠n -->
      <div class="comment-section">
        <h4>üí¨ B√¨nh lu·∫≠n b√†i vi·∫øt</h4>

        <!-- Form g·ª≠i b√¨nh lu·∫≠n -->
        <form class="comment-form" onsubmit="return handleCommentSubmit(event)">
          <input type="text" id="commentName" placeholder="T√™n c·ªßa b·∫°n..." required>
          <input type="email" id="commentEmail" placeholder="Email..." required>
          <textarea id="commentContent" rows="4" placeholder="N·ªôi dung b√¨nh lu·∫≠n..." required></textarea>
          <button type="submit">G·ª≠i b√¨nh lu·∫≠n</button>
        </form>

        <!-- Th√¥ng b√°o c·∫£m ∆°n -->
        <div id="commentMessage" class="comment-message"></div>
      </div>
      
    </article>

    <!-- ==================== SIDEBAR ==================== -->
    <aside class="sidebar">
      <div class="widget">
        <h4>Khuy·∫øn m√£i</h4>
        <img src="/images/banner/blog-side.jpg" alt="Promo">
      </div>

      <div class="widget subscribe-widget">
    <h4>üì¨ ƒêƒÉng k√Ω nh·∫≠n tin</h4>
    <p>Nh·∫≠n xu h∆∞·ªõng & khuy·∫øn m√£i s·ªõm nh·∫•t t·ª´ Eighteen Beauty!</p>
    <form class="subscribe-form" onsubmit="return handleSubscribe(event)">
      <input type="email" id="subscribeEmail" placeholder="Nh·∫≠p email c·ªßa b·∫°n" required>
      <button type="submit">ƒêƒÉng k√Ω</button>
    </form>
    <div id="subscribeMsg" class="comment-message"></div>
  </div>
    </aside>

  </div>
</main>

<div th:replace="fragments/_footer :: footer"></div>

<script>
function handleCommentSubmit(event) {
  event.preventDefault();

  const name = document.getElementById("commentName").value.trim();
  const content = document.getElementById("commentContent").value.trim();
  const msgDiv = document.getElementById("commentMessage");

  if (!name || !content) {
    msgDiv.textContent = "‚ùå Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!";
    msgDiv.style.color = "#ff6b6b";
    return false;
  }

  msgDiv.textContent = `‚úÖ C·∫£m ∆°n ${name} ƒë√£ g·ª≠i b√¨nh lu·∫≠n! üå∏`;
  msgDiv.style.color = "#57b87c";

  // Reset form sau 3 gi√¢y
  event.target.reset();
  setTimeout(() => msgDiv.textContent = "", 4000);

  return false;
}
</script>

<script>
function handleSubscribe(event) {
  event.preventDefault();
  const email = document.getElementById("subscribeEmail").value.trim();
  const msg = document.getElementById("subscribeMsg");

  if (!email) {
    msg.textContent = "‚ùå Vui l√≤ng nh·∫≠p email h·ª£p l·ªá!";
    msg.style.color = "#ff6b6b";
    return false;
  }

  msg.textContent = `‚úÖ C·∫£m ∆°n b·∫°n ƒë√£ ƒëƒÉng k√Ω! üå∏`;
  msg.style.color = "#57b87c";
  event.target.reset();
  setTimeout(() => msg.textContent = "", 4000);
  return false;
}
</script>

</body>
</html>
